# 그래프
- 노드의 집합과 에지의 집합에 의해 정의된다
- 개체들 간의 이진관계를 표현
- 방향 그래프: 에지가 방향을 갖는다
- 가중 그래프: 에지가 가중치를 갖는다
- 노드간 경로가 있다: 연결되어 있다
- 노드간 에지 1개: 인접해 있다

## 그래프 표현방법

### 1. 인접행렬
- 정점의 개수가 n개인 그래프를 n * n 행렬로 표현
- i와 j 사이에 에지가 있으면 a(i,j) = 1 (가중치 그래프이면 가중치), 없으면 a(i,j) = 0
- 인접한 모든 노드 찾기: O(n)
- 특정 에지 찾기: O(1)

### 2. 인접리스트
- 정접 집합을 표현하는 하나의 배열
- 각 정점마다 인접한 정점들의 연결리스트
- 인접한 모든 노드 찾기: O(연결리스트의 길이)
- 특정 에지 찾기: O(연결리스트의 길이)

---

## 그래프 순회방법: 모든 노드들을 중복없이 방문하기

### 1. 너비우선 = 이진트리의 level-order 순회
- 동심원 형태로 탐색
- 방문했으면 check 표시
- 같은 단계의 노드들이 담긴 큐에서 하나씩 꺼내면서 해당 노드의 모든 인접 노드 중 방문하지 않은 노드들을 새로운 큐에 넣기를 반복
- 최단 경로의 길이를 구할 수 있다

### 2. 깊이우선 = 이진트리의 inorder 순회
- 인접한 모든 노드 중 아직 방문하지 않은 노드를 방문하다가 막히면 다시 되돌아가면서 방문하지 않은 노드 체크해서 방문
- recursion

---

## 비순환 방향그래프
- 우선순위가 있는 작업을 표현할 때 사용
- 위상정렬: 노드의 순서를 일렬로 나열하는 것. 

### note) 위상정렬 알고리즘
- 시작점을 이용해 정렬하기: 진입간선(inDegree) 의 갯수가 0인 노드를 찾아서 1차원 배열의 앞에 넣고 해당 노드의 에지를 제거한 후 다시 inDegree의 갯수가 0인 노드 찾기 반복
- 종료점을 이용해 정렬하기: 임의의 노드를 지정해서 계속 화살표를 타고 가다가 막다른 지점에 다다르면 그 노드가 마지막 노드이므로 배열의 제일 마지막에 넣고, 다시 앞의 노드로 가서 막다르 다면 그 노드가 배열의 끝에서 두번째 위치

---

# 최소비용 신장트리(MST)
- 무방향 가중치(양수) 그래프를 최소 비용으로 연결하기
- 여기서의 트리는 계층적 구조가 아니라 비순환 연결 무방향 그래프를 가리킨다

## 알고리즘
- 처음에 A 는 공집합
- 집합 A에 대해서 안전한 에지를 하나 찾은 후 A에 더한다
- 안전한 에지 찾는법: 노드들을 두 집합으로 분할했을 때 집합 A에 속한 어떤 에지도 다른 하나의 집합으로 cross 하지 않을 때 이는 집합 A를 존중한다고 한다. 이 때 이 컷을 크로스하는 에지 중 가장 가중치가 작은 에지는 안전하다
- 에지의 갯수가 n-1 개가 될 때까지 반복

### 안전한 에지를 찾는방법 1. kruskal 알고리즘
- 에지들을 가중치 오름차순으로 정렬
- 에지들을 순서대로 선택하는데 이미 선택된 에지들과 사이클을 형성하면 선택하지 않는다
- n-1개가 선택되면 종료
- 순환유무 검사: 모든 노드를 각각 하나의 원소를 갖는 집합화한 후, 가장 작은 가중치의 에지를 갖는 두 집합이 서로 교집합이 없으면 순환이 없으므로 연결해서 합집합화 한다, 그리고 다음으로 가장 낮은 가중치의 에지를 찾아서 반복

### 안전한 에지를 찾는방법 2: prim 알고리즘
- 임의의 노드를 출발노드로 선택
- 출발 노드를 포함하는 트리를 점점 키워감
- 이미 트리에 포함된 노드와 포함되지 않은 노드를 연결하는 에지 중 가장 작은 가중치의 에지를 선택(최소 우선순위 큐를 이용)

---

# one to all 최단경로 찾기
- 양수가중치 그래프

## 최단경로의 특성
- 최단 경로의 부분경로도 최단경로이다
- 최단경로는 사이클을 포함하지 않는다

## relaxation 연산 (Bellman-Ford 알고리즘)
- 노드의 값이 시작점에서 노드까지 알고있는 경로 중 최단 거리라고 할 때, 이웃 노드들의 값을 활용하여 자신의 값을 업데이트해나가는 것
- 순서 없이 임의의 노드에 대해서 연산을 수행하므로 업데이트 할 때마다 전부 다 바뀌는 단점
- n-1 번 반복해서 업데이트하면 최단경로를 찾을 수 있다

## 다익스트라 알고리즘
- relaxation 연산을 할 때 임의의 노드에 대해서 하는게 아니라 노드의 값이 최소인 노드와 이웃한 노드에 대해서만 relaxation 연산하기

# all to all 최단경로 찾기
- 모든 노드 쌍들간의 최단경로 구하기

## Floyd-Washall 알고리즘
- d(k)[i,j] = 중간에 노드집합 {1. ..., k} 에 속한 노드들만 거쳐서 노드 i 에서 j 까지 가는 최단 경로는 노드 k를 거치는 경우와 안거치는 경우로 나눌 수 있다
- 노드 k를 거치는 경우 = d(k-1){i,k} + d(k-1){k,j}
- 노드 k를 안거치는 경우 = d(k-1)[i,j]
- 따라서 최단경로는 두 경우의 최소값이다
